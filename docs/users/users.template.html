<style>
	.clickable {
		cursor: pointer;
	}

	.chat {
		float: right;
		clear: both;
	}
</style>

<h1>Team</h1>

<h3 ng-if="$ctrl.users.length <= 0">Looks like you have no teammates (and/or friends)!
	<a class="clickable" ng-click="$ctrl.add()">You should fix that!</a>
</h3>

<section ng-if="$ctrl.users.length > 0" class="wide-list" style="display: block;">
	<!--<section ng-repeat="user in $ctrl.users">
		<h3>{{user.displayName}}</h3>
		<h5>{{user.role}}</h5>
	</section>
	-->
	<table class="table" style="width: 800px;">
		<tr ng-repeat="user in $ctrl.users ">
			<td>{{user.displayName}}</td>
			<td>{{user.role}}</td>
		</tr>
	</table>

</section>
<input class="btn btn-primary" type="button" value="Invite Teammate" ng-click="$ctrl.add()">

<div class="fixed-body" style="position: fixed;bottom: 0px; right: 0px;">
	<div class="chat-room-wrapper" >
		<div class="chat-room panel-success" ng-show="$ctrl.chat">
			<div class="panel-heading">
				<h3 class="panel-title">{{$ctrl.receiver?$ctrl.receiver:"Team Taking"}}</h3><a ng-click="$ctrl.closeMsg()">X</a>
			</div>
			<div class="message-wrapper panel-body" id="messageWrapper">
				<div ng-repeat="message in $ctrl.messages track by $index">
					<div class="normal-message" ng-class="{others:displayName!==message.from,self:displayName===message.from}">
						<div class="name-wrapper" ><span>{{message.from}} @ </span><span>{{message.time |  date: 'HH:mm:ss' }}</span></div>
						<div class="content-wrapper" ><span class="content">{{message.text}}</span><span class="avatar"></span></div>
					</div>
				</div>
			</div>
			<div class="panel-footer">
				<form class="post-form form-inline" novalidate name="postform" ng-submit="$ctrl.postMessage()">
					<input type="text" class="form-control" ng-model="$ctrl.words" placeholder="say something..." >
					<button type="submit" class="btn btn-success" ng-disabled="$ctrl.postform.$invalid">send</button>
				</form>
			</div>
		</div>
		<div class="online panel-success" ng-show="$ctrl.showFriends">
			<div class="panel-heading">
				<h3 class="panel-title">My friends<span class="user-number">{{$ctrl.usersOnline.length-1}}</span></h3>
				<a ng-click="$ctrl.openChat() ">X</a>
			</div>
			<div class="user-wrapper panel-body">
				<div class="users" ng-click="$ctrl.setReceiver(user.displayName)" ng-repeat="user in $ctrl.usersOnline track by $index">
					<span class="avatar" ></span>
					<span class="nickname">{{user.displayName?user.displayName:"Team Talking"}}</span>
				</div>
			</div>
		</div>
	</div>
	<div class="fixed-btn" ng-click="$ctrl.openChat() " ng-show="!$ctrl.showFriends">
		chatting now
	</div>
</div>

















