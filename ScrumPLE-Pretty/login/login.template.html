<style>
	form input {
		display: block;
	}

	#profile {
		float: right;
	}
	#profile > * {
		padding: 0;
		margin: 0;
	}

	.error {
		color: red;
	}
</style>

<div id="profile">
	<h4>{{$ctrl.resources.user().displayName}}</h4>
	<h4>{{$ctrl.resources.user().role}}</h4>

	<input type="button" value="Log Out" ng-click="$ctrl.logout()" ng-if="$ctrl.resources.auth()">
</div>

<form name="login" ng-submit="$ctrl.login()" ng-if="!$ctrl.resources.auth()">
	<fieldset>
		<legend>Login</legend>

		<input type="text" name="handle" placeholder="Email" autofocus required ng-model="$ctrl.handle">
		<input type="password" name="password" placeholder="Password" required ng-model="$ctrl.password">

		<input type="submit" value="Log In">

		<p class="error" ng-if="$ctrl.failed">Incorrect email or password</p>
	</fieldset>
</form>
