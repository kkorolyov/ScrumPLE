<style>
	form input {
		display: block;
	}

	#profile {
		float: right;
	}
	#profile > * {
		padding: 0;
		margin: 0;
	}

	.error {
		color: red;
	}
</style>

<div id="profile">
	<h4>{{$ctrl.resources.user().displayName}}</h4>
	<h4>{{$ctrl.resources.user().role}}</h4>

	<input type="button" value="Log Out" ng-click="$ctrl.logout()" ng-if="$ctrl.resources.auth()">
</div>

<div class="col-md-6 col-md-offset-3">
		<form name="login" ng-submit="$ctrl.login()" ng-if="!$ctrl.resources.auth()" role="form">
			<fieldset>
				<legend>Log In </legend>
			<div class="form-group" ng-class="{ 'has-error': form.handle.$dirty && form.handle.$error.required }">
            	<label for="handle">Please Enter your Email Address</label>
				<input type="text" name="handle" placeholder=" Email adderss" class="form-control" autofocus required ng-model="$ctrl.handle">
				<span ng-show="form.handle.$dirty && form.handle.$error.required" class="help-block">Email is required</span>
        	</div>
			<div class="form-group" ng-class="{ 'has-error': form.password.$dirty && form.password.$error.required }">
            	<label for="password">Please Enter your Password</label>
				<input type="password" name="password" placeholder="Password" class="form-control" required ng-model="$ctrl.password">
				<span ng-show="form.password.$dirty && form.password.$error.required" class="help-block">Password is required</span>
            </div>
			<div class="form-actions">
				<button type="submit" value="Log In" ng-disabled="form.$invalid || vm.dataLoading" class="btn btn-primary">Login</button>
				<img ng-if="vm.dataLoading" src="data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==" />
			</div>	
				<p class="error" ng-if="$ctrl.failed">Incorrect email or password</p>
			</fieldset>
		</form>
</div>
